/*
 * Raphael 1.4.1 - JavaScript Vector Library
 *
 * Copyright (c) 2010 Dmitry Baranovskiy (http://raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
Raphael=(function(){function az(){if(az.is(arguments[0],aU)){var d=arguments[0],e=B[bi](az,d.splice(0,3+az.is(d[0],aw))),S=e.set();for(var R=0,bn=d[o];R<bn;R++){var E=d[R]||{};a8.test(E.type)&&S[f](e[E.type]().attr(E));}return S;}return B[bi](az,arguments);}az.version="1.4.1";var a=/[, ]+/,a8=/^(circle|rect|path|ellipse|text|image)$/,bk="prototype",ab="hasOwnProperty",V=document,aG=window,n={was:Object[bk][ab].call(aG,"Raphael"),is:aG.Raphael},bf=function(){},a4="appendChild",bi="apply",bd="concat",P="createTouch" in V,aF="",ay=" ",F="split",M="click dblclick mousedown mousemove mouseout mouseover mouseup"[F](ay),a9={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},aM="join",o="length",bm=String[bk].toLowerCase,aj=Math,h=aj.max,a2=aj.min,aw="number",aa="string",aU="array",aO="toString",aR="fill",aJ=Object[bk][aO],bb={},a5=aj.pow,f="push",bg=/^(?=[\da-f]$)/,c=/^url\(['"]?([^\)]+?)['"]?\)$/i,C=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+(?:\s*,\s*[\d\.]+)?)\s*\)|rgba?\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%(?:\s*,\s*[\d\.]+%))\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,Y=aj.round,A="setAttribute",ae=parseFloat,N=parseInt,aS=" progid:DXImageTransform.Microsoft",a7=String[bk].toUpperCase,l={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},ah={along:"along",blur:aw,"clip-rect":"csv",cx:aw,cy:aw,fill:"colour","fill-opacity":aw,"font-size":aw,height:aw,opacity:aw,path:"path",r:aw,rotation:"csv",rx:aw,ry:aw,scale:"csv",stroke:"colour","stroke-opacity":aw,"stroke-width":aw,translation:"csv",width:aw,x:aw,y:aw},ba="replace";az.type=(aG.SVGAngle||V.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML");if(az.type=="VML"){var ap=V.createElement("div");ap.innerHTML="<!--[if vml]><br><br><![endif]-->";if(ap.childNodes[o]!=2){return az.type=null;}ap=null;}az.svg=!(az.vml=az.type=="VML");bf[bk]=az[bk];az._id=0;az._oid=0;az.fn={};az.is=function(e,d){d=bm.call(d);return(d=="object"&&e===Object(e))||(d=="undefined"&&typeof e==d)||(d=="null"&&e==null)||bm.call(aJ.call(e).slice(8,-1))==d;};az.setWindow=function(d){aG=d;V=aG.document;};var aV=function(e){if(az.vml){var d=/^\s+|\s+$/g;aV=at(function(R){var S;R=(R+aF)[ba](d,aF);try{var bn=new aG.ActiveXObject("htmlfile");bn.write("<body>");bn.close();S=bn.body;}catch(bp){S=aG.createPopup().document.body;}var i=S.createTextRange();try{S.style.color=R;var bo=i.queryCommandValue("ForeColor");bo=((bo&255)<<16)|(bo&65280)|((bo&16711680)>>>16);return"#"+("000000"+bo[aO](16)).slice(-6);}catch(bp){return"none";}});}else{var E=V.createElement("i");E.title="Rapha\xebl Colour Picker";E.style.display="none";V.body[a4](E);aV=at(function(i){E.style.color=i;return V.defaultView.getComputedStyle(E,aF).getPropertyValue("color");});}return aV(e);};var au=function(){return"hsb("+[this.h,this.s,this.b]+")";},y=function(){return this.hex;};az.hsb2rgb=at(function(bq,bo,bu){if(az.is(bq,"object")&&"h" in bq&&"s" in bq&&"b" in bq){bu=bq.b;bo=bq.s;bq=bq.h;}var R,S,bv;if(bu==0){return{r:0,g:0,b:0,hex:"#000"};}if(bq>1||bo>1||bu>1){bq/=255;bo/=255;bu/=255;}var bn=~~(bq*6),br=(bq*6)-bn,E=bu*(1-bo),e=bu*(1-(bo*br)),bw=bu*(1-(bo*(1-br)));R=[bu,e,E,E,bw,bu,bu][bn];S=[bw,bu,bu,e,E,E,bw][bn];bv=[E,E,bw,bu,bu,e,E][bn];R*=255;S*=255;bv*=255;var bs={r:R,g:S,b:bv,toString:y},d=(~~R)[aO](16),bp=(~~S)[aO](16),bt=(~~bv)[aO](16);d=d[ba](bg,"0");bp=bp[ba](bg,"0");bt=bt[ba](bg,"0");bs.hex="#"+d+bp+bt;return bs;},az);az.rgb2hsb=at(function(d,e,bo){if(az.is(d,"object")&&"r" in d&&"g" in d&&"b" in d){bo=d.b;e=d.g;d=d.r;}if(az.is(d,aa)){var bq=az.getRGB(d);d=bq.r;e=bq.g;bo=bq.b;}if(d>1||e>1||bo>1){d/=255;e/=255;bo/=255;}var bn=h(d,e,bo),i=a2(d,e,bo),R,E,S=bn;if(i==bn){return{h:0,s:0,b:bn};}else{var bp=(bn-i);E=bp/bn;if(d==bn){R=(e-bo)/bp;}else{if(e==bn){R=2+((bo-d)/bp);}else{R=4+((d-e)/bp);}}R/=6;R<0&&R++;R>1&&R--;}return{h:R,s:E,b:S,toString:au};},az);var aW=/,?([achlmqrstvxz]),?/gi,aY=/\s*,\s*/,j={hs:1,rg:1};az._path2string=function(){return this.join(",")[ba](aW,"$1");};function at(E,e,d){function i(){var R=Array[bk].slice.call(arguments,0),bn=R[aM]("\u25ba"),S=i.cache=i.cache||{},bo=i.count=i.count||[];if(S[ab](bn)){return d?d(S[bn]):S[bn];}bo[o]>=1000&&delete S[bo.shift()];bo[f](bn);S[bn]=E[bi](e,R);return d?d(S[bn]):S[bn];}return i;}az.getRGB=at(function(e){if(!e||!!((e=e+aF).indexOf("-")+1)){return{r:-1,g:-1,b:-1,hex:"none",error:1};}if(e=="none"){return{r:-1,g:-1,b:-1,hex:"none"};}!(j[ab](e.substring(0,2))||e.charAt()=="#")&&(e=aV(e));var bn,i,E,bq,S,br,bo=e.match(C);if(bo){if(bo[2]){bq=N(bo[2].substring(5),16);E=N(bo[2].substring(3,5),16);i=N(bo[2].substring(1,3),16);}if(bo[3]){bq=N((br=bo[3].charAt(3))+br,16);E=N((br=bo[3].charAt(2))+br,16);i=N((br=bo[3].charAt(1))+br,16);}if(bo[4]){bo=bo[4][F](aY);i=ae(bo[0]);E=ae(bo[1]);bq=ae(bo[2]);S=ae(bo[3]);}if(bo[5]){bo=bo[5][F](aY);i=ae(bo[0])*2.55;E=ae(bo[1])*2.55;bq=ae(bo[2])*2.55;S=ae(bo[3]);}if(bo[6]){bo=bo[6][F](aY);i=ae(bo[0]);E=ae(bo[1]);bq=ae(bo[2]);return az.hsb2rgb(i,E,bq);}if(bo[7]){bo=bo[7][F](aY);i=ae(bo[0])*2.55;E=ae(bo[1])*2.55;bq=ae(bo[2])*2.55;return az.hsb2rgb(i,E,bq);}bo={r:i,g:E,b:bq};var d=(~~i)[aO](16),R=(~~E)[aO](16),bp=(~~bq)[aO](16);d=d[ba](bg,"0");R=R[ba](bg,"0");bp=bp[ba](bg,"0");bo.hex="#"+d+R+bp;isFinite(ae(S))&&(bo.o=S);return bo;}return{r:-1,g:-1,b:-1,hex:"none",error:1};},az);az.getColor=function(e){var i=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||0.75},d=this.hsb2rgb(i.h,i.s,i.b);i.h+=0.075;if(i.h>1){i.h=0;i.s-=0.2;i.s<=0&&(this.getColor.start={h:0,s:1,b:i.b});}return d.hex;};az.getColor.reset=function(){delete this.start;};var aH=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,ax=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig;az.parsePathString=at(function(d){if(!d){return null;}var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=[];if(az.is(d,aU)&&az.is(d[0],aU)){e=aI(d);}if(!e[o]){(d+aF)[ba](aH,function(R,E,bo){var bn=[],S=bm.call(E);bo[ba](ax,function(bq,bp){bp&&bn[f](+bp);});if(S=="m"&&bn[o]>2){e[f]([E][bd](bn.splice(0,2)));S="l";E=E=="m"?"l":"L";}while(bn[o]>=i[S]){e[f]([E][bd](bn.splice(0,i[S])));if(!i[S]){break;}}});}e[aO]=az._path2string;return e;});az.findDotsAtSegment=function(e,d,bB,bz,bn,R,bp,bo,bv){var bt=1-bv,bs=a5(bt,3)*e+a5(bt,2)*3*bv*bB+bt*3*bv*bv*bn+a5(bv,3)*bp,bq=a5(bt,3)*d+a5(bt,2)*3*bv*bz+bt*3*bv*bv*R+a5(bv,3)*bo,bx=e+2*bv*(bB-e)+bv*bv*(bn-2*bB+e),bw=d+2*bv*(bz-d)+bv*bv*(R-2*bz+d),bA=bB+2*bv*(bn-bB)+bv*bv*(bp-2*bn+bB),by=bz+2*bv*(R-bz)+bv*bv*(bo-2*R+bz),bu=(1-bv)*e+bv*bB,br=(1-bv)*d+bv*bz,E=(1-bv)*bn+bv*bp,i=(1-bv)*R+bv*bo,S=(90-aj.atan((bx-bA)/(bw-by))*180/aj.PI);(bx>bA||bw<by)&&(S+=180);return{x:bs,y:bq,m:{x:bx,y:bw},n:{x:bA,y:by},start:{x:bu,y:br},end:{x:E,y:i},alpha:S};};var ad=at(function(bs){if(!bs){return{x:0,y:0,width:0,height:0};}bs=O(bs);var bp=0,bo=0,R=[],e=[],E;for(var S=0,br=bs[o];S<br;S++){E=bs[S];if(E[0]=="M"){bp=E[1];bo=E[2];R[f](bp);e[f](bo);}else{var bn=aT(bp,bo,E[1],E[2],E[3],E[4],E[5],E[6]);R=R[bd](bn.min.x,bn.max.x);e=e[bd](bn.min.y,bn.max.y);bp=E[5];bo=E[6];}}var d=a2[bi](0,R),bq=a2[bi](0,e);return{x:d,y:bq,width:h[bi](0,R)-d,height:h[bi](0,e)-bq};}),aI=function(bn){var E=[];if(!az.is(bn,aU)||!az.is(bn&&bn[0],aU)){bn=az.parsePathString(bn);}for(var e=0,R=bn[o];e<R;e++){E[e]=[];for(var d=0,S=bn[e][o];d<S;d++){E[e][d]=bn[e][d];}}E[aO]=az._path2string;return E;},am=at(function(R){if(!az.is(R,aU)||!az.is(R&&R[0],aU)){R=az.parsePathString(R);}var br=[],bt=0,bs=0,bw=0,bv=0,E=0;if(R[0][0]=="M"){bt=R[0][1];bs=R[0][2];bw=bt;bv=bs;E++;br[f](["M",bt,bs]);}for(var bo=E,bx=R[o];bo<bx;bo++){var d=br[bo]=[],bu=R[bo];if(bu[0]!=bm.call(bu[0])){d[0]=bm.call(bu[0]);switch(d[0]){case"a":d[1]=bu[1];d[2]=bu[2];d[3]=bu[3];d[4]=bu[4];d[5]=bu[5];d[6]=+(bu[6]-bt).toFixed(3);d[7]=+(bu[7]-bs).toFixed(3);break;case"v":d[1]=+(bu[1]-bs).toFixed(3);break;case"m":bw=bu[1];bv=bu[2];default:for(var bn=1,bp=bu[o];bn<bp;bn++){d[bn]=+(bu[bn]-((bn%2)?bt:bs)).toFixed(3);}}}else{d=br[bo]=[];if(bu[0]=="m"){bw=bu[1]+bt;bv=bu[2]+bs;}for(var S=0,e=bu[o];S<e;S++){br[bo][S]=bu[S];}}var bq=br[bo][o];switch(br[bo][0]){case"z":bt=bw;bs=bv;break;case"h":bt+=+br[bo][bq-1];break;case"v":bs+=+br[bo][bq-1];break;default:bt+=+br[bo][bq-2];bs+=+br[bo][bq-1];}}br[aO]=az._path2string;return br;},0,aI),v=at(function(R){if(!az.is(R,aU)||!az.is(R&&R[0],aU)){R=az.parsePathString(R);}var bq=[],bs=0,br=0,bv=0,bu=0,E=0;if(R[0][0]=="M"){bs=+R[0][1];br=+R[0][2];bv=bs;bu=br;E++;bq[0]=["M",bs,br];}for(var bo=E,bw=R[o];bo<bw;bo++){var d=bq[bo]=[],bt=R[bo];if(bt[0]!=a7.call(bt[0])){d[0]=a7.call(bt[0]);switch(d[0]){case"A":d[1]=bt[1];d[2]=bt[2];d[3]=bt[3];d[4]=bt[4];d[5]=bt[5];d[6]=+(bt[6]+bs);d[7]=+(bt[7]+br);break;case"V":d[1]=+bt[1]+br;break;case"H":d[1]=+bt[1]+bs;break;case"M":bv=+bt[1]+bs;bu=+bt[2]+br;default:for(var bn=1,bp=bt[o];bn<bp;bn++){d[bn]=+bt[bn]+((bn%2)?bs:br);}}}else{for(var S=0,e=bt[o];S<e;S++){bq[bo][S]=bt[S];}}switch(d[0]){case"Z":bs=bv;br=bu;break;case"H":bs=d[1];break;case"V":br=d[1];break;default:bs=bq[bo][bq[bo][o]-2];br=bq[bo][bq[bo][o]-1];}}bq[aO]=az._path2string;return bq;},null,aI),bj=function(e,E,d,i){return[e,E,d,i,d,i];},a3=function(e,E,bn,R,d,i){var S=1/3,bo=2/3;return[S*e+bo*bn,S*E+bo*R,S*d+bo*bn,S*i+bo*R,d,i];},U=function(bw,b1,bF,bD,bx,br,S,bv,b0,by){var R=aj.PI,bC=R*120/180,d=R/180*(+bx||0),bJ=[],bG,bX=at(function(b2,b5,i){var b4=b2*aj.cos(i)-b5*aj.sin(i),b3=b2*aj.sin(i)+b5*aj.cos(i);return{x:b4,y:b3};});if(!by){bG=bX(bw,b1,-d);bw=bG.x;b1=bG.y;bG=bX(bv,b0,-d);bv=bG.x;b0=bG.y;var e=aj.cos(R/180*bx),bt=aj.sin(R/180*bx),bL=(bw-bv)/2,bK=(b1-b0)/2;var bV=(bL*bL)/(bF*bF)+(bK*bK)/(bD*bD);if(bV>1){bV=aj.sqrt(bV);bF=bV*bF;bD=bV*bD;}var E=bF*bF,bO=bD*bD,bQ=(br==S?-1:1)*aj.sqrt(aj.abs((E*bO-E*bK*bK-bO*bL*bL)/(E*bK*bK+bO*bL*bL))),bA=bQ*bF*bK/bD+(bw+bv)/2,bz=bQ*-bD*bL/bF+(b1+b0)/2,bq=aj.asin(((b1-bz)/bD).toFixed(7)),bp=aj.asin(((b0-bz)/bD).toFixed(7));bq=bw<bA?R-bq:bq;bp=bv<bA?R-bp:bp;bq<0&&(bq=R*2+bq);bp<0&&(bp=R*2+bp);if(S&&bq>bp){bq=bq-R*2;}if(!S&&bp>bq){bp=bp-R*2;}}else{bq=by[0];bp=by[1];bA=by[2];bz=by[3];}var bu=bp-bq;if(aj.abs(bu)>bC){var bB=bp,bE=bv,bs=b0;bp=bq+bC*(S&&bp>bq?1:-1);bv=bA+bF*aj.cos(bp);b0=bz+bD*aj.sin(bp);bJ=U(bv,b0,bF,bD,bx,0,S,bE,bs,[bp,bB,bA,bz]);}bu=bp-bq;var bo=aj.cos(bq),bZ=aj.sin(bq),bn=aj.cos(bp),bY=aj.sin(bp),bM=aj.tan(bu/4),bP=4/3*bF*bM,bN=4/3*bD*bM,bW=[bw,b1],bU=[bw+bP*bZ,b1-bN*bo],bT=[bv+bP*bY,b0-bN*bn],bR=[bv,b0];bU[0]=2*bW[0]-bU[0];bU[1]=2*bW[1]-bU[1];if(by){return[bU,bT,bR][bd](bJ);}else{bJ=[bU,bT,bR][bd](bJ)[aM]()[F](",");var bH=[];for(var bS=0,bI=bJ[o];bS<bI;bS++){bH[bS]=bS%2?bX(bJ[bS-1],bJ[bS],d).y:bX(bJ[bS],bJ[bS+1],d).x;}return bH;}},X=function(e,d,E,i,bp,bo,bn,S,bq){var R=1-bq;return{x:a5(R,3)*e+a5(R,2)*3*bq*E+R*3*bq*bq*bp+a5(bq,3)*bn,y:a5(R,3)*d+a5(R,2)*3*bq*i+R*3*bq*bq*bo+a5(bq,3)*S};},aT=at(function(i,d,R,E,bw,bv,bs,bp){var bu=(bw-2*R+i)-(bs-2*bw+R),br=2*(R-i)-2*(bw-R),bo=i-R,bn=(-br+aj.sqrt(br*br-4*bu*bo))/2/bu,S=(-br-aj.sqrt(br*br-4*bu*bo))/2/bu,bq=[d,bp],bt=[i,bs],e;aj.abs(bn)>1000000000000&&(bn=0.5);aj.abs(S)>1000000000000&&(S=0.5);if(bn>0&&bn<1){e=X(i,d,R,E,bw,bv,bs,bp,bn);bt[f](e.x);bq[f](e.y);}if(S>0&&S<1){e=X(i,d,R,E,bw,bv,bs,bp,S);bt[f](e.x);bq[f](e.y);}bu=(bv-2*E+d)-(bp-2*bv+E);br=2*(E-d)-2*(bv-E);bo=d-E;bn=(-br+aj.sqrt(br*br-4*bu*bo))/2/bu;S=(-br-aj.sqrt(br*br-4*bu*bo))/2/bu;aj.abs(bn)>1000000000000&&(bn=0.5);aj.abs(S)>1000000000000&&(S=0.5);if(bn>0&&bn<1){e=X(i,d,R,E,bw,bv,bs,bp,bn);bt[f](e.x);bq[f](e.y);}if(S>0&&S<1){e=X(i,d,R,E,bw,bv,bs,bp,S);bt[f](e.x);bq[f](e.y);}return{min:{x:a2[bi](0,bt),y:a2[bi](0,bq)},max:{x:h[bi](0,bt),y:h[bi](0,bq)}};}),O=at(function(bw,br){var R=v(bw),bs=br&&v(br),bt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},bn=function(bx,by){var i,bz;if(!bx){return["C",by.x,by.y,by.x,by.y,by.x,by.y];}!(bx[0] in {T:1,Q:1})&&(by.qx=by.qy=null);switch(bx[0]){case"M":by.X=bx[1];by.Y=bx[2];break;case"A":bx=["C"][bd](U[bi](0,[by.x,by.y][bd](bx.slice(1))));break;case"S":i=by.x+(by.x-(by.bx||by.x));bz=by.y+(by.y-(by.by||by.y));bx=["C",i,bz][bd](bx.slice(1));break;case"T":by.qx=by.x+(by.x-(by.qx||by.x));by.qy=by.y+(by.y-(by.qy||by.y));bx=["C"][bd](a3(by.x,by.y,by.qx,by.qy,bx[1],bx[2]));break;case"Q":by.qx=bx[1];by.qy=bx[2];bx=["C"][bd](a3(by.x,by.y,bx[1],bx[2],bx[3],bx[4]));break;case"L":bx=["C"][bd](bj(by.x,by.y,bx[1],bx[2]));break;case"H":bx=["C"][bd](bj(by.x,by.y,bx[1],by.y));break;case"V":bx=["C"][bd](bj(by.x,by.y,by.x,bx[1]));break;case"Z":bx=["C"][bd](bj(by.x,by.y,by.X,by.Y));break;}return bx;},e=function(bx,by){if(bx[by][o]>7){bx[by].shift();var bz=bx[by];while(bz[o]){bx.splice(by++,0,["C"][bd](bz.splice(0,6)));}bx.splice(by,1);bu=h(R[o],bs&&bs[o]||0);}},E=function(bB,bA,by,bx,bz){if(bB&&bA&&bB[bz][0]=="M"&&bA[bz][0]!="M"){bA.splice(bz,0,["M",bx.x,bx.y]);by.bx=0;by.by=0;by.x=bB[bz][1];by.y=bB[bz][2];bu=h(R[o],bs&&bs[o]||0);}};for(var bp=0,bu=h(R[o],bs&&bs[o]||0);bp<bu;bp++){R[bp]=bn(R[bp],bt);e(R,bp);bs&&(bs[bp]=bn(bs[bp],d));bs&&e(bs,bp);E(R,bs,bt,d,bp);E(bs,R,d,bt,bp);var bo=R[bp],bv=bs&&bs[bp],S=bo[o],bq=bs&&bv[o];bt.x=bo[S-2];bt.y=bo[S-1];bt.bx=ae(bo[S-4])||bt.x;bt.by=ae(bo[S-3])||bt.y;d.bx=bs&&(ae(bv[bq-4])||d.x);d.by=bs&&(ae(bv[bq-3])||d.y);d.x=bs&&bv[bq-2];d.y=bs&&bv[bq-1];}return bs?[R,bs]:R;},null,aI),t=at(function(br){var bq=[];for(var bn=0,bs=br[o];bn<bs;bn++){var e={},bp=br[bn].match(/^([^:]*):?([\d\.]*)/);e.color=az.getRGB(bp[1]);if(e.color.error){return null;}e.color=e.color.hex;bp[2]&&(e.offset=bp[2]+"%");bq[f](e);}for(bn=1,bs=bq[o]-1;bn<bs;bn++){if(!bq[bn].offset){var E=ae(bq[bn-1].offset||0),R=0;for(var S=bn+1;S<bs;S++){if(bq[S].offset){R=bq[S].offset;break;}}if(!R){R=100;S=bs;}R=ae(R);var bo=(R-E)/(S-bn+1);for(;bn<S;bn++){E+=bo;bq[bn].offset=E+"%";}}}return bq;}),aA=function(d,R,i,E){var e;if(az.is(d,aa)||az.is(d,"object")){e=az.is(d,aa)?V.getElementById(d):d;if(e.tagName){if(R==null){return{container:e,width:e.style.pixelWidth||e.offsetWidth,height:e.style.pixelHeight||e.offsetHeight};}else{return{container:e,width:R,height:i};}}}else{return{container:1,x:d,y:R,width:i,height:E};}},aZ=function(d,i){var e=this;for(var E in i){if(i[ab](E)&&!(E in d)){switch(typeof i[E]){case"function":(function(R){d[E]=d===e?R:function(){return R[bi](e,arguments);};})(i[E]);break;case"object":d[E]=d[E]||{};aZ.call(this,d[E],i[E]);break;default:d[E]=i[E];break;}}}},av=function(d,e){d==e.top&&(e.top=d.prev);d==e.bottom&&(e.bottom=d.next);d.next&&(d.next.prev=d.prev);d.prev&&(d.prev.next=d.next);},ag=function(d,e){if(e.top===d){return;}av(d,e);d.next=null;d.prev=e.top;e.top.next=d;e.top=d;},m=function(d,e){if(e.bottom===d){return;}av(d,e);d.next=e.bottom;d.prev=null;e.bottom.prev=d;e.bottom=d;},G=function(e,d,i){av(e,i);d==i.top&&(i.top=e);d.next&&(d.next.prev=e);e.next=d.next;e.prev=d;d.next=e;},aC=function(e,d,i){av(e,i);d==i.bottom&&(i.bottom=e);d.prev&&(d.prev.next=e);e.prev=d.prev;d.prev=e;e.next=d;},w=function(d){return function(){throw new Error("Rapha\xebl: you are calling to method \u201c"+d+"\u201d of removed object");};},aE=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;if(az.svg){bf[bk].svgns="http://www.w3.org/2000/svg";bf[bk].xlink="http://www.w3.org/1999/xlink";Y=function(d){return +d+(~~d===d)*0.5;};var a1=function(i,d){if(d){for(var e in d){if(d[ab](e)){i[A](e,d[e]+aF);}}}else{i=V.createElementNS(bf[bk].svgns,i);i.style.webkitTapHighlightColor="rgba(0,0,0,0)";return i;}};az[aO]=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version;};var u=function(d,E){var e=a1("path");E.canvas&&E.canvas[a4](e);var i=new aK(e,E);i.type="path";ai(i,{fill:"none",stroke:"#000",path:d});return i;};var b=function(R,bv,d){var bs="linear",bp=0.5,bn=0.5,bx=R.style;bv=(bv+aF)[ba](aE,function(bz,i,bA){bs="radial";if(i&&bA){bp=ae(i);bn=ae(bA);var by=((bn>0.5)*2-1);a5(bp-0.5,2)+a5(bn-0.5,2)>0.25&&(bn=aj.sqrt(0.25-a5(bp-0.5,2))*by+0.5)&&bn!=0.5&&(bn=bn.toFixed(5)-0.00001*by);}return aF;});bv=bv[F](/\s*\-\s*/);if(bs=="linear"){var bo=bv.shift();bo=-ae(bo);if(isNaN(bo)){return null;}var S=[0,0,aj.cos(bo*aj.PI/180),aj.sin(bo*aj.PI/180)],bu=1/(h(aj.abs(S[2]),aj.abs(S[3]))||1);S[2]*=bu;S[3]*=bu;if(S[2]<0){S[0]=-S[2];S[2]=0;}if(S[3]<0){S[1]=-S[3];S[3]=0;}}var br=t(bv);if(!br){return null;}var e=R.getAttribute(aR);e=e.match(/^url\(#(.*)\)$/);e&&d.defs.removeChild(V.getElementById(e[1]));var E=a1(bs+"Gradient");E.id="r"+(az._id++)[aO](36);a1(E,bs=="radial"?{fx:bp,fy:bn}:{x1:S[0],y1:S[1],x2:S[2],y2:S[3]});d.defs[a4](E);for(var bq=0,bw=br[o];bq<bw;bq++){var bt=a1("stop");a1(bt,{offset:br[bq].offset?br[bq].offset:!bq?"0%":"100%","stop-color":br[bq].color||"#fff"});E[a4](bt);}a1(R,{fill:"url(#"+E.id+")",opacity:1,"fill-opacity":1});bx.fill=aF;bx.opacity=1;bx.fillOpacity=1;return 1;};var W=function(e){var d=e.getBBox();a1(e.pattern,{patternTransform:az.format("translate({0},{1})",d.x,d.y)});};var ai=function(bu,bD){var bx={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},bz=bu.node,bv=bu.attrs,br=bu.rotate(),bn=function(bK,bJ){bJ=bx[bm.call(bJ)];if(bJ){var bH=bK.attrs["stroke-width"]||"1",bF={round:bH,square:bH,butt:0}[bK.attrs["stroke-linecap"]||bD["stroke-linecap"]]||0,bI=[];var bG=bJ[o];while(bG--){bI[bG]=bJ[bG]*bH+((bG%2)?1:-1)*bF;}a1(bz,{"stroke-dasharray":bI[aM](",")});}};bD[ab]("rotation")&&(br=bD.rotation);var bq=(br+aF)[F](a);if(!(bq.length-1)){bq=null;}else{bq[1]=+bq[1];bq[2]=+bq[2];}ae(br)&&bu.rotate(0,true);for(var by in bD){if(bD[ab](by)){if(!l[ab](by)){continue;}var bw=bD[by];bv[by]=bw;switch(by){case"blur":bu.blur(bw);break;case"rotation":bu.rotate(bw,true);break;case"href":case"title":case"target":var bB=bz.parentNode;if(bm.call(bB.tagName)!="a"){var R=a1("a");bB.insertBefore(R,bz);R[a4](bz);bB=R;}bB.setAttributeNS(bu.paper.xlink,by,bw);break;case"cursor":bz.style.cursor=bw;break;case"clip-rect":var e=(bw+aF)[F](a);if(e[o]==4){bu.clip&&bu.clip.parentNode.parentNode.removeChild(bu.clip.parentNode);var i=a1("clipPath"),bA=a1("rect");i.id="r"+(az._id++)[aO](36);a1(bA,{x:e[0],y:e[1],width:e[2],height:e[3]});i[a4](bA);bu.paper.defs[a4](i);a1(bz,{"clip-path":"url(#"+i.id+")"});bu.clip=bA;}if(!bw){var bC=V.getElementById(bz.getAttribute("clip-path")[ba](/(^url\(#|\)$)/g,aF));bC&&bC.parentNode.removeChild(bC);a1(bz,{"clip-path":aF});delete bu.clip;}break;case"path":if(bu.type=="path"){a1(bz,{d:bw?bv.path=v(bw):"M0,0"});}break;case"width":bz[A](by,bw);if(bv.fx){by="x";bw=bv.x;}else{break;}case"x":if(bv.fx){bw=-bv.x-(bv.width||0);}case"rx":if(by=="rx"&&bu.type=="rect"){break;}case"cx":bq&&(by=="x"||by=="cx")&&(bq[1]+=bw-bv[by]);bz[A](by,Y(bw));bu.pattern&&W(bu);break;case"height":bz[A](by,bw);if(bv.fy){by="y";bw=bv.y;}else{break;}case"y":if(bv.fy){bw=-bv.y-(bv.height||0);}case"ry":if(by=="ry"&&bu.type=="rect"){break;}case"cy":bq&&(by=="y"||by=="cy")&&(bq[2]+=bw-bv[by]);bz[A](by,Y(bw));bu.pattern&&W(bu);break;case"r":if(bu.type=="rect"){a1(bz,{rx:bw,ry:bw});}else{bz[A](by,bw);}break;case"src":if(bu.type=="image"){bz.setAttributeNS(bu.paper.xlink,"href",bw);}break;case"stroke-width":bz.style.strokeWidth=bw;bz[A](by,bw);if(bv["stroke-dasharray"]){bn(bu,bv["stroke-dasharray"]);}break;case"stroke-dasharray":bn(bu,bw);break;case"translation":var bo=(bw+aF)[F](a);bo[0]=+bo[0]||0;bo[1]=+bo[1]||0;if(bq){bq[1]+=bo[0];bq[2]+=bo[1];}x.call(bu,bo[0],bo[1]);break;case"scale":bo=(bw+aF)[F](a);bu.scale(+bo[0]||1,+bo[1]||+bo[0]||1,isNaN(ae(bo[2]))?null:+bo[2],isNaN(ae(bo[3]))?null:+bo[3]);break;case aR:var S=(bw+aF).match(c);if(S){i=a1("pattern");var bt=a1("image");i.id="r"+(az._id++)[aO](36);a1(i,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});a1(bt,{x:0,y:0});bt.setAttributeNS(bu.paper.xlink,"href",S[1]);i[a4](bt);var bE=V.createElement("img");bE.style.cssText="position:absolute;left:-9999em;top-9999em";bE.onload=function(){a1(i,{width:this.offsetWidth,height:this.offsetHeight});a1(bt,{width:this.offsetWidth,height:this.offsetHeight});V.body.removeChild(this);bu.paper.safari();};V.body[a4](bE);bE.src=S[1];bu.paper.defs[a4](i);bz.style.fill="url(#"+i.id+")";a1(bz,{fill:"url(#"+i.id+")"});bu.pattern=i;bu.pattern&&W(bu);break;}var E=az.getRGB(bw);if(!E.error){delete bD.gradient;delete bv.gradient;!az.is(bv.opacity,"undefined")&&az.is(bD.opacity,"undefined")&&a1(bz,{opacity:bv.opacity});!az.is(bv["fill-opacity"],"undefined")&&az.is(bD["fill-opacity"],"undefined")&&a1(bz,{"fill-opacity":bv["fill-opacity"]});}else{if((({circle:1,ellipse:1})[ab](bu.type)||(bw+aF).charAt()!="r")&&b(bz,bw,bu.paper)){bv.gradient=bw;bv.fill="none";break;}}E[ab]("o")&&a1(bz,{"fill-opacity":E.o/100});case"stroke":E=az.getRGB(bw);bz[A](by,E.hex);by=="stroke"&&E[ab]("o")&&a1(bz,{"stroke-opacity":E.o/100});break;case"gradient":(({circle:1,ellipse:1})[ab](bu.type)||(bw+aF).charAt()!="r")&&b(bz,bw,bu.paper);break;case"opacity":case"fill-opacity":if(bv.gradient){var d=V.getElementById(bz.getAttribute(aR)[ba](/^url\(#|\)$/g,aF));if(d){var bp=d.getElementsByTagName("stop");bp[bp[o]-1][A]("stop-opacity",bw);}break;}default:by=="font-size"&&(bw=N(bw,10)+"px");var bs=by[ba](/(\-.)/g,function(bF){return a7.call(bF.substring(1));});bz.style[bs]=bw;bz[A](by,bw);break;}}}L(bu,bD);if(bq){bu.rotate(bq.join(ay));}else{ae(br)&&bu.rotate(br,true);}};var k=1.2,L=function(d,R){if(d.type!="text"||!(R[ab]("text")||R[ab]("font")||R[ab]("font-size")||R[ab]("x")||R[ab]("y"))){return;}var bq=d.attrs,e=d.node,bs=e.firstChild?N(V.defaultView.getComputedStyle(e.firstChild,aF).getPropertyValue("font-size"),10):10;if(R[ab]("text")){bq.text=R.text;while(e.firstChild){e.removeChild(e.firstChild);}var E=(R.text+aF)[F]("\n");for(var S=0,br=E[o];S<br;S++){if(E[S]){var bo=a1("tspan");S&&a1(bo,{dy:bs*k,x:bq.x});bo[a4](V.createTextNode(E[S]));e[a4](bo);}}}else{E=e.getElementsByTagName("tspan");for(S=0,br=E[o];S<br;S++){S&&a1(E[S],{dy:bs*k,x:bq.x});}}a1(e,{y:bq.y});var bn=d.getBBox(),bp=bq.y-(bn.y+bn.height/2);bp&&isFinite(bp)&&a1(e,{y:bq.y+bp});},aK=function(e,d){var E=0,i=0;this[0]=e;this.id=az._oid++;this.node=e;e.raphael=this;this.paper=d;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!d.bottom&&(d.bottom=this);this.prev=d.top;d.top&&(d.top.next=this);d.top=this;this.next=null;};aK[bk].rotate=function(e,d,E){if(this.removed){return this;}if(e==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][aM](ay);}return this._.rt.deg;}var i=this.getBBox();e=(e+aF)[F](a);if(e[o]-1){d=ae(e[1]);E=ae(e[2]);}e=ae(e[0]);if(d!=null){this._.rt.deg=e;}else{this._.rt.deg+=e;}(E==null)&&(d=null);this._.rt.cx=d;this._.rt.cy=E;d=d==null?i.x+i.width/2:d;E=E==null?i.y+i.height/2:E;if(this._.rt.deg){this.transformations[0]=az.format("rotate({0} {1} {2})",this._.rt.deg,d,E);this.clip&&a1(this.clip,{transform:az.format("rotate({0} {1} {2})",-this._.rt.deg,d,E)});}else{this.transformations[0]=aF;this.clip&&a1(this.clip,{transform:aF});}a1(this.node,{transform:this.transformations[aM](ay)});return this;};aK[bk].hide=function(){!this.removed&&(this.node.style.display="none");return this;};aK[bk].show=function(){!this.removed&&(this.node.style.display="");return this;};aK[bk].remove=function(){if(this.removed){return;}av(this,this.paper);this.node.parentNode.removeChild(this.node);for(var d in this){delete this[d];}this.removed=true;};aK[bk].getBBox=function(){if(this.removed){return this;}if(this.type=="path"){return ad(this.attrs.path);}if(this.node.style.display=="none"){this.show();var E=true;}var bo={};try{bo=this.node.getBBox();}catch(S){}finally{bo=bo||{};}if(this.type=="text"){bo={x:bo.x,y:Infinity,width:0,height:0};for(var d=0,R=this.node.getNumberOfChars();d<R;d++){var bn=this.node.getExtentOfChar(d);(bn.y<bo.y)&&(bo.y=bn.y);(bn.y+bn.height-bo.y>bo.height)&&(bo.height=bn.y+bn.height-bo.y);(bn.x+bn.width-bo.x>bo.width)&&(bo.width=bn.x+bn.width-bo.x);}}E&&this.hide();return bo;};aK[bk].attr=function(E,bo){if(this.removed){return this;}if(E==null){var S={};for(var R in this.attrs){if(this.attrs[ab](R)){S[R]=this.attrs[R];}}this._.rt.deg&&(S.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(S.scale=this.scale());S.gradient&&S.fill=="none"&&(S.fill=S.gradient)&&delete S.gradient;return S;}if(bo==null&&az.is(E,aa)){if(E=="translation"){return x.call(this);}if(E=="rotation"){return this.rotate();}if(E=="scale"){return this.scale();}if(E==aR&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient;}return this.attrs[E];}if(bo==null&&az.is(E,aU)){var d={};for(var e=0,bn=E.length;e<bn;e++){d[E[e]]=this.attr(E[e]);}return d;}if(bo!=null){var bp={};bp[E]=bo;ai(this,bp);}else{if(E!=null&&az.is(E,"object")){ai(this,E);}}return this;};aK[bk].toFront=function(){if(this.removed){return this;}this.node.parentNode[a4](this.node);var d=this.paper;d.top!=this&&ag(this,d);return this;};aK[bk].toBack=function(){if(this.removed){return this;}if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);m(this,this.paper);var d=this.paper;}return this;};aK[bk].insertAfter=function(d){if(this.removed){return this;}var e=d.node;if(e.nextSibling){e.parentNode.insertBefore(this.node,e.nextSibling);}else{e.parentNode[a4](this.node);}G(this,d,this.paper);return this;};aK[bk].insertBefore=function(d){if(this.removed){return this;}var e=d.node;e.parentNode.insertBefore(this.node,e);aC(this,d,this.paper);return this;};aK[bk].blur=function(e){var d=this;if(+e!==0){var i=a1("filter"),E=a1("feGaussianBlur");d.attrs.blur=e;i.id="r"+(az._id++)[aO](36);a1(E,{stdDeviation:+e||1.5});i.appendChild(E);d.paper.defs.appendChild(i);d._blur=i;a1(d.node,{filter:"url(#"+i.id+")"});}else{if(d._blur){d._blur.parentNode.removeChild(d._blur);delete d._blur;delete d.attrs.blur;}d.node.removeAttribute("filter");}};var Z=function(e,d,S,R){d=Y(d);S=Y(S);var E=a1("circle");e.canvas&&e.canvas[a4](E);var i=new aK(E,e);i.attrs={cx:d,cy:S,r:R,fill:"none",stroke:"#000"};i.type="circle";a1(E,i.attrs);return i;};var aX=function(i,d,bo,e,S,bn){d=Y(d);bo=Y(bo);var R=a1("rect");i.canvas&&i.canvas[a4](R);var E=new aK(R,i);E.attrs={x:d,y:bo,width:e,height:S,r:bn||0,rx:bn||0,ry:bn||0,fill:"none",stroke:"#000"};E.type="rect";a1(R,E.attrs);return E;};var ar=function(e,d,bn,S,R){d=Y(d);bn=Y(bn);var E=a1("ellipse");e.canvas&&e.canvas[a4](E);var i=new aK(E,e);i.attrs={cx:d,cy:bn,rx:S,ry:R,fill:"none",stroke:"#000"};i.type="ellipse";a1(E,i.attrs);return i;};var s=function(i,bn,d,bo,e,S){var R=a1("image");a1(R,{x:d,y:bo,width:e,height:S,preserveAspectRatio:"none"});R.setAttributeNS(i.xlink,"href",bn);i.canvas&&i.canvas[a4](R);var E=new aK(R,i);E.attrs={x:d,y:bo,width:e,height:S,src:bn};E.type="image";return E;};var af=function(e,d,S,R){var E=a1("text");a1(E,{x:d,y:S,"text-anchor":"middle"});e.canvas&&e.canvas[a4](E);var i=new aK(E,e);i.attrs={x:d,y:S,"text-anchor":"middle",text:R,font:l.font,stroke:"none",fill:"#000"};i.type="text";ai(i,i.attrs);return i;};var bh=function(e,d){this.width=e||this.width;this.height=d||this.height;this.canvas[A]("width",this.width);this.canvas[A]("height",this.height);return this;};var B=function(){var E=aA[bi](0,arguments),i=E&&E.container,e=E.x,bn=E.y,R=E.width,d=E.height;if(!i){throw new Error("SVG container not found.");}var S=a1("svg");e=e||0;bn=bn||0;R=R||512;d=d||342;a1(S,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:R,height:d});if(i==1){S.style.cssText="position:absolute;left:"+e+"px;top:"+bn+"px";V.body[a4](S);}else{if(i.firstChild){i.insertBefore(S,i.firstChild);}else{i[a4](S);}}i=new bf;i.width=R;i.height=d;i.canvas=S;aZ.call(i,i,az.fn);i.clear();return i;};bf[bk].clear=function(){var d=this.canvas;while(d.firstChild){d.removeChild(d.firstChild);}this.bottom=this.top=null;(this.desc=a1("desc"))[a4](V.createTextNode("Created with Rapha\xebl"));d[a4](this.desc);d[a4](this.defs=a1("defs"));};bf[bk].remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var d in this){this[d]=w(d);}};}if(az.vml){var J={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},aD=/([clmz]),?([^clmz]*)/gi,bl=/-?[^,\s-]+/g,aN=1000+ay+1000,r=10,p={path:1,rect:1},a0=function(bs){var bp=/[ahqstv]/ig,E=v;(bs+aF).match(bp)&&(E=O);bp=/[clmz]/g;if(E==v&&!(bs+aF).match(bp)){var bo=(bs+aF)[ba](aD,function(bv,bx,bt){var bw=[],i=bm.call(bx)=="m",bu=J[bx];bt[ba](bl,function(by){if(i&&bw[o]==2){bu+=bw+J[bx=="m"?"l":"L"];bw=[];}bw[f](Y(by*r));});return bu+bw;});return bo;}var bq=E(bs),e,d;bo=[];for(var S=0,br=bq[o];S<br;S++){e=bq[S];d=bm.call(bq[S][0]);d=="z"&&(d="x");for(var R=1,bn=e[o];R<bn;R++){d+=Y(e[R]*r)+(R!=bn-1?",":aF);}bo[f](d);}return bo[aM](ay);};az[aO]=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version;};u=function(i,e){var S=aq("group");S.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";S.coordsize=e.coordsize;S.coordorigin=e.coordorigin;var R=aq("shape"),E=R.style;E.width=e.width+"px";E.height=e.height+"px";R.coordsize=aN;R.coordorigin=e.coordorigin;S[a4](R);var bn=new aK(R,S,e),d={fill:"none",stroke:"#000"};i&&(d.path=i);bn.isAbsolute=true;bn.type="path";bn.path=[];bn.Path=aF;ai(bn,d);e.canvas[a4](S);return bn;};ai=function(bq,bx){bq.attrs=bq.attrs||{};var bu=bq.node,by=bq.attrs,bn=bu.style,E,bw=(bx.x!=by.x||bx.y!=by.y||bx.width!=by.width||bx.height!=by.height||bx.r!=by.r)&&bq.type=="rect",bC=bq;for(var bo in bx){if(bx[ab](bo)){by[bo]=bx[bo];}}if(bw){by.path=al(by.x,by.y,by.width,by.height,by.r);bq.X=by.x;bq.Y=by.y;bq.W=by.width;bq.H=by.height;}bx.href&&(bu.href=bx.href);bx.title&&(bu.title=bx.title);bx.target&&(bu.target=bx.target);bx.cursor&&(bn.cursor=bx.cursor);"blur" in bx&&bq.blur(bx.blur);if(bx.path&&bq.type=="path"||bw){bu.path=a0(by.path);}if(bx.rotation!=null){bq.rotate(bx.rotation,true);}if(bx.translation){E=(bx.translation+aF)[F](a);x.call(bq,E[0],E[1]);if(bq._.rt.cx!=null){bq._.rt.cx+=+E[0];bq._.rt.cy+=+E[1];bq.setBox(bq.attrs,E[0],E[1]);}}if(bx.scale){E=(bx.scale+aF)[F](a);bq.scale(+E[0]||1,+E[1]||+E[0]||1,+E[2]||null,+E[3]||null);}if("clip-rect" in bx){var d=(bx["clip-rect"]+aF)[F](a);if(d[o]==4){d[2]=+d[2]+(+d[0]);d[3]=+d[3]+(+d[1]);var bp=bu.clipRect||V.createElement("div"),bB=bp.style,S=bu.parentNode;bB.clip=az.format("rect({1}px {2}px {3}px {0}px)",d);if(!bu.clipRect){bB.position="absolute";bB.top=0;bB.left=0;bB.width=bq.paper.width+"px";bB.height=bq.paper.height+"px";S.parentNode.insertBefore(bp,S);bp[a4](S);bu.clipRect=bp;}}if(!bx["clip-rect"]){bu.clipRect&&(bu.clipRect.style.clip=aF);}}if(bq.type=="image"&&bx.src){bu.src=bx.src;}if(bq.type=="image"&&bx.opacity){bu.filterOpacity=aS+".Alpha(opacity="+(bx.opacity*100)+")";bn.filter=(bu.filterMatrix||aF)+(bu.filterOpacity||aF);}bx.font&&(bn.font=bx.font);bx["font-family"]&&(bn.fontFamily='"'+bx["font-family"][F](",")[0][ba](/^['"]+|['"]+$/g,aF)+'"');bx["font-size"]&&(bn.fontSize=bx["font-size"]);bx["font-weight"]&&(bn.fontWeight=bx["font-weight"]);bx["font-style"]&&(bn.fontStyle=bx["font-style"]);if(bx.opacity!=null||bx["stroke-width"]!=null||bx.fill!=null||bx.stroke!=null||bx["stroke-width"]!=null||bx["stroke-opacity"]!=null||bx["fill-opacity"]!=null||bx["stroke-dasharray"]!=null||bx["stroke-miterlimit"]!=null||bx["stroke-linejoin"]!=null||bx["stroke-linecap"]!=null){bu=bq.shape||bu;var bv=(bu.getElementsByTagName(aR)&&bu.getElementsByTagName(aR)[0]),bz=false;!bv&&(bz=bv=aq(aR));if("fill-opacity" in bx||"opacity" in bx){var e=((+by["fill-opacity"]+1||2)-1)*((+by.opacity+1||2)-1)*((+az.getRGB(bx.fill).o+1||2)-1);e<0&&(e=0);e>1&&(e=1);bv.opacity=e;}bx.fill&&(bv.on=true);if(bv.on==null||bx.fill=="none"){bv.on=false;}if(bv.on&&bx.fill){var i=bx.fill.match(c);if(i){bv.src=i[1];bv.type="tile";}else{bv.color=az.getRGB(bx.fill).hex;bv.src=aF;bv.type="solid";if(az.getRGB(bx.fill).error&&(bC.type in {circle:1,ellipse:1}||(bx.fill+aF).charAt()!="r")&&b(bC,bx.fill)){by.fill="none";by.gradient=bx.fill;}}}bz&&bu[a4](bv);var R=(bu.getElementsByTagName("stroke")&&bu.getElementsByTagName("stroke")[0]),bA=false;!R&&(bA=R=aq("stroke"));if((bx.stroke&&bx.stroke!="none")||bx["stroke-width"]||bx["stroke-opacity"]!=null||bx["stroke-dasharray"]||bx["stroke-miterlimit"]||bx["stroke-linejoin"]||bx["stroke-linecap"]){R.on=true;}(bx.stroke=="none"||R.on==null||bx.stroke==0||bx["stroke-width"]==0)&&(R.on=false);var bt=az.getRGB(bx.stroke);R.on&&bx.stroke&&(R.color=bt.hex);e=((+by["stroke-opacity"]+1||2)-1)*((+by.opacity+1||2)-1)*((+bt.o+1||2)-1);var br=(ae(bx["stroke-width"])||1)*0.75;e<0&&(e=0);e>1&&(e=1);bx["stroke-width"]==null&&(br=by["stroke-width"]);bx["stroke-width"]&&(R.weight=br);br&&br<1&&(e*=br)&&(R.weight=1);R.opacity=e;bx["stroke-linejoin"]&&(R.joinstyle=bx["stroke-linejoin"]||"miter");R.miterlimit=bx["stroke-miterlimit"]||8;bx["stroke-linecap"]&&(R.endcap=bx["stroke-linecap"]=="butt"?"flat":bx["stroke-linecap"]=="square"?"square":"round");if(bx["stroke-dasharray"]){var bs={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};R.dashstyle=bs[ab](bx["stroke-dasharray"])?bs[bx["stroke-dasharray"]]:aF;}bA&&bu[a4](R);}if(bC.type=="text"){bn=bC.paper.span.style;by.font&&(bn.font=by.font);by["font-family"]&&(bn.fontFamily=by["font-family"]);by["font-size"]&&(bn.fontSize=by["font-size"]);by["font-weight"]&&(bn.fontWeight=by["font-weight"]);by["font-style"]&&(bn.fontStyle=by["font-style"]);bC.node.string&&(bC.paper.span.innerHTML=(bC.node.string+aF)[ba](/</g,"&#60;")[ba](/&/g,"&#38;")[ba](/\n/g,"<br>"));bC.W=by.w=bC.paper.span.offsetWidth;bC.H=by.h=bC.paper.span.offsetHeight;bC.X=by.x;bC.Y=by.y+Y(bC.H/2);switch(by["text-anchor"]){case"start":bC.node.style["v-text-align"]="left";bC.bbx=Y(bC.W/2);break;case"end":bC.node.style["v-text-align"]="right";bC.bbx=-Y(bC.W/2);break;default:bC.node.style["v-text-align"]="center";break;}}};b=function(d,bo){d.attrs=d.attrs||{};var bp=d.attrs,br,S="linear",bn=".5 .5";d.attrs.gradient=bo;bo=(bo+aF)[ba](aE,function(bt,bu,i){S="radial";if(bu&&i){bu=ae(bu);i=ae(i);a5(bu-0.5,2)+a5(i-0.5,2)>0.25&&(i=aj.sqrt(0.25-a5(bu-0.5,2))*((i>0.5)*2-1)+0.5);bn=bu+ay+i;}return aF;});bo=bo[F](/\s*\-\s*/);if(S=="linear"){var e=bo.shift();e=-ae(e);if(isNaN(e)){return null;}}var R=t(bo);if(!R){return null;}d=d.shape||d.node;br=d.getElementsByTagName(aR)[0]||aq(aR);!br.parentNode&&d.appendChild(br);if(R[o]){br.on=true;br.method="none";br.color=R[0].color;br.color2=R[R[o]-1].color;var bs=[];for(var E=0,bq=R[o];E<bq;E++){R[E].offset&&bs[f](R[E].offset+ay+R[E].color);}br.colors&&(br.colors.value=bs[o]?bs[aM]():"0% "+br.color);if(S=="radial"){br.type="gradientradial";br.focus="100%";br.focussize=bn;br.focusposition=bn;}else{br.type="gradient";br.angle=(270-e)%360;}}return 1;};aK=function(R,bn,d){var S=0,i=0,e=0,E=1;this[0]=R;this.id=az._oid++;this.node=R;R.raphael=this;this.X=0;this.Y=0;this.attrs={};this.Group=bn;this.paper=d;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!d.bottom&&(d.bottom=this);this.prev=d.top;d.top&&(d.top.next=this);d.top=this;this.next=null;};aK[bk].rotate=function(e,d,i){if(this.removed){return this;}if(e==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][aM](ay);}return this._.rt.deg;}e=(e+aF)[F](a);if(e[o]-1){d=ae(e[1]);i=ae(e[2]);}e=ae(e[0]);if(d!=null){this._.rt.deg=e;}else{this._.rt.deg+=e;}i==null&&(d=null);this._.rt.cx=d;this._.rt.cy=i;this.setBox(this.attrs,d,i);this.Group.style.rotation=this._.rt.deg;return this;};aK[bk].setBox=function(R,S,E){if(this.removed){return this;}var d=this.Group.style,bn=(this.shape&&this.shape.style)||this.node.style;R=R||{};for(var bo in R){if(R[ab](bo)){this.attrs[bo]=R[bo];}}S=S||this._.rt.cx;E=E||this._.rt.cy;var br=this.attrs,bu,bt,bv,bq;switch(this.type){case"circle":bu=br.cx-br.r;bt=br.cy-br.r;bv=bq=br.r*2;break;case"ellipse":bu=br.cx-br.rx;bt=br.cy-br.ry;bv=br.rx*2;bq=br.ry*2;break;case"image":bu=+br.x;bt=+br.y;bv=br.width||0;bq=br.height||0;break;case"text":this.textpath.v=["m",Y(br.x),", ",Y(br.y-2),"l",Y(br.x)+1,", ",Y(br.y-2)][aM](aF);bu=br.x-Y(this.W/2);bt=br.y-this.H/2;bv=this.W;bq=this.H;break;case"rect":case"path":if(!this.attrs.path){bu=0;bt=0;bv=this.paper.width;bq=this.paper.height;}else{var bp=ad(this.attrs.path);bu=bp.x;bt=bp.y;bv=bp.width;bq=bp.height;}break;default:bu=0;bt=0;bv=this.paper.width;bq=this.paper.height;break;}S=(S==null)?bu+bv/2:S;E=(E==null)?bt+bq/2:E;var e=S-this.paper.width/2,bs=E-this.paper.height/2,bw;d.left!=(bw=e+"px")&&(d.left=bw);d.top!=(bw=bs+"px")&&(d.top=bw);this.X=p[ab](this.type)?-e:bu;this.Y=p[ab](this.type)?-bs:bt;this.W=bv;this.H=bq;if(p[ab](this.type)){bn.left!=(bw=-e*r+"px")&&(bn.left=bw);bn.top!=(bw=-bs*r+"px")&&(bn.top=bw);}else{if(this.type=="text"){bn.left!=(bw=-e+"px")&&(bn.left=bw);bn.top!=(bw=-bs+"px")&&(bn.top=bw);}else{d.width!=(bw=this.paper.width+"px")&&(d.width=bw);d.height!=(bw=this.paper.height+"px")&&(d.height=bw);bn.left!=(bw=bu-e+"px")&&(bn.left=bw);bn.top!=(bw=bt-bs+"px")&&(bn.top=bw);bn.width!=(bw=bv+"px")&&(bn.width=bw);bn.height!=(bw=bq+"px")&&(bn.height=bw);}}};aK[bk].hide=function(){!this.removed&&(this.Group.style.display="none");return this;};aK[bk].show=function(){!this.removed&&(this.Group.style.display="block");return this;};aK[bk].getBBox=function(){if(this.removed){return this;}if(p[ab](this.type)){return ad(this.attrs.path);}return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H};};aK[bk].remove=function(){if(this.removed){return;}av(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var d in this){delete this[d];}this.removed=true;};aK[bk].attr=function(e,bn){if(this.removed){return this;}if(e==null){var R={};for(var E in this.attrs){if(this.attrs[ab](E)){R[E]=this.attrs[E];}}this._.rt.deg&&(R.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(R.scale=this.scale());R.gradient&&R.fill=="none"&&(R.fill=R.gradient)&&delete R.gradient;return R;}if(bn==null&&az.is(e,aa)){if(e=="translation"){return x.call(this);}if(e=="rotation"){return this.rotate();}if(e=="scale"){return this.scale();}if(e==aR&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient;}return this.attrs[e];}if(this.attrs&&bn==null&&az.is(e,aU)){var S,d={};for(E=0,S=e[o];E<S;E++){d[e[E]]=this.attr(e[E]);}return d;}var bo;if(bn!=null){bo={};bo[e]=bn;}bn==null&&az.is(e,"object")&&(bo=e);if(bo){if(bo.text&&this.type=="text"){this.node.string=bo.text;}ai(this,bo);if(bo.gradient&&(({circle:1,ellipse:1})[ab](this.type)||(bo.gradient+aF).charAt()!="r")){b(this,bo.gradient);}(!p[ab](this.type)||this._.rt.deg)&&this.setBox(this.attrs);}return this;};aK[bk].toFront=function(){!this.removed&&this.Group.parentNode[a4](this.Group);this.paper.top!=this&&ag(this,this.paper);return this;};aK[bk].toBack=function(){if(this.removed){return this;}if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);m(this,this.paper);}return this;};aK[bk].insertAfter=function(d){if(this.removed){return this;}if(d.Group.nextSibling){d.Group.parentNode.insertBefore(this.Group,d.Group.nextSibling);}else{d.Group.parentNode[a4](this.Group);}G(this,d,this.paper);return this;};aK[bk].insertBefore=function(d){if(this.removed){return this;}d.Group.parentNode.insertBefore(this.Group,d.Group);aC(this,d,this.paper);return this;};var be=/ progid:\S+Blur\([^\)]+\)/g;aK[bk].blur=function(d){var e=this.node.style,i=e.filter;i=i.replace(be,"");if(+d!==0){this.attrs.blur=d;e.filter=i+aS+".Blur(pixelradius="+(+d||1.5)+")";e.margin=Raphael.format("-{0}px 0 0 -{0}px",Math.round(+d||1.5));}else{e.filter=i;e.margin=0;delete this.attrs.blur;}};Z=function(e,d,bo,S){var R=aq("group"),bn=aq("oval"),i=bn.style;R.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";R.coordsize=aN;R.coordorigin=e.coordorigin;R[a4](bn);var E=new aK(bn,R,e);E.type="circle";ai(E,{stroke:"#000",fill:"none"});E.attrs.cx=d;E.attrs.cy=bo;E.attrs.r=S;E.setBox({x:d-S,y:bo-S,width:S*2,height:S*2});e.canvas[a4](R);return E;};function al(d,R,e,i,E){if(E){return az.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",d+E,R,e-E*2,E,-E,i-E*2,E*2-e,E*2-i);}else{return az.format("M{0},{1}l{2},0,0,{3},{4},0z",d,R,e,i,-e);}}aX=function(e,bn,R,bo,i,d){var bp=al(bn,R,bo,i,d),E=e.path(bp),S=E.attrs;E.X=S.x=bn;E.Y=S.y=R;E.W=S.width=bo;E.H=S.height=i;S.r=d;S.path=bp;E.type="rect";return E;};ar=function(d,bp,bo,i,e){var R=aq("group"),E=aq("oval"),bn=E.style;R.style.cssText="position:absolute;left:0;top:0;width:"+d.width+"px;height:"+d.height+"px";R.coordsize=aN;R.coordorigin=d.coordorigin;R[a4](E);var S=new aK(E,R,d);S.type="ellipse";ai(S,{stroke:"#000"});S.attrs.cx=bp;S.attrs.cy=bo;S.attrs.rx=i;S.attrs.ry=e;S.setBox({x:bp-i,y:bo-e,width:i*2,height:e*2});d.canvas[a4](R);return S;};s=function(e,d,bp,bo,bq,E){var R=aq("group"),i=aq("image"),bn=i.style;R.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";R.coordsize=aN;R.coordorigin=e.coordorigin;i.src=d;R[a4](i);var S=new aK(i,R,e);S.type="image";S.attrs.src=d;S.attrs.x=bp;S.attrs.y=bo;S.attrs.w=bq;S.attrs.h=E;S.setBox({x:bp,y:bo,width:bq,height:E});e.canvas[a4](R);return S;};af=function(e,bp,bo,bq){var R=aq("group"),E=aq("shape"),bn=E.style,br=aq("path"),d=br.style,i=aq("textpath");R.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";R.coordsize=aN;R.coordorigin=e.coordorigin;br.v=az.format("m{0},{1}l{2},{1}",Y(bp*10),Y(bo*10),Y(bp*10)+1);br.textpathok=true;bn.width=e.width;bn.height=e.height;i.string=bq+aF;i.on=true;E[a4](i);E[a4](br);R[a4](E);var S=new aK(i,R,e);S.shape=E;S.textpath=br;S.type="text";S.attrs.text=bq;S.attrs.x=bp;S.attrs.y=bo;S.attrs.w=1;S.attrs.h=1;ai(S,{font:l.font,stroke:"none",fill:"#000"});S.setBox();e.canvas[a4](R);return S;};bh=function(i,d){var e=this.canvas.style;i==+i&&(i+="px");d==+d&&(d+="px");e.width=i;e.height=d;e.clip="rect(0 "+i+" "+d+" 0)";return this;};var aq;V.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!V.namespaces.rvml&&V.namespaces.add("rvml","urn:schemas-microsoft-com:vml");aq=function(d){return V.createElement("<rvml:"+d+' class="rvml">');};}catch(ao){aq=function(d){return V.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">');};}B=function(){var i=aA[bi](0,arguments),d=i.container,bp=i.height,bq,e=i.width,bo=i.x,bn=i.y;if(!d){throw new Error("VML container not found.");}var R=new bf,S=R.canvas=V.createElement("div"),E=S.style;bo=bo||0;bn=bn||0;e=e||512;bp=bp||342;e==+e&&(e+="px");bp==+bp&&(bp+="px");R.width=1000;R.height=1000;R.coordsize=r*1000+ay+r*1000;R.coordorigin="0 0";R.span=V.createElement("span");R.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";S[a4](R.span);E.cssText=az.format("width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,bp);if(d==1){V.body[a4](S);E.left=bo+"px";E.top=bn+"px";E.position="absolute";}else{if(d.firstChild){d.insertBefore(S,d.firstChild);}else{d[a4](S);}}aZ.call(R,R,az.fn);return R;};bf[bk].clear=function(){this.canvas.innerHTML=aF;this.span=V.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas[a4](this.span);this.bottom=this.top=null;};bf[bk].remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var d in this){this[d]=w(d);}return true;};}if((/^Apple|^Google/).test(aG.navigator.vendor)&&(!(aG.navigator.userAgent.indexOf("Version/4.0")+1)||aG.navigator.platform.slice(0,2)=="iP")){bf[bk].safari=function(){var d=this.rect(-99,-99,this.width+99,this.height+99);aG.setTimeout(function(){d.remove();});};}else{bf[bk].safari=function(){};}var K=function(){this.returnValue=false;},aQ=function(){this.cancelBubble=true;},an=(function(){if(V.addEventListener){return function(R,i,e,d){var E=function(bp){if(P){for(var bn=0,bo=bp.targetTouches&&bp.targetTouches.length;bn<bo;bn++){if(bp.targetTouches[bn].target==R){var S=bp;bp=bp.targetTouches[bn];bp.originalEvent=S;break;}}}return e.call(d,bp);};R.addEventListener(i,E,false);return function(){R.removeEventListener(i,E,false);return true;};};}else{if(V.attachEvent){return function(S,E,i,e){var R=function(bn){bn=bn||aG.event;bn.preventDefault=bn.preventDefault||K;bn.stopPropagation=bn.stopPropagation||aQ;return i.call(e,bn);};S.attachEvent("on"+E,R);var d=function(){S.detachEvent("on"+E,R);return true;};return d;};}}})();for(var ak=M[o];ak--;){(function(d){az[d]=aK[bk][d]=function(i){if(az.is(i,"function")){var e=P&&a9[d]?a9[d]:d;this.events=this.events||[];this.events.push({name:d,f:i,unbind:an(this.shape||this.node||V,e,i,this)});}return this;};az["un"+d]=aK[bk]["un"+d]=function(E){var i=this.events,e=i[o];while(e--){if(i[e].name==d&&i[e].f==E){i[e].unbind();i.splice(e,1);!i.length&&delete this.events;return this;}}return this;};})(M[ak]);}aK[bk].hover=function(e,d){return this.mouseover(e).mouseout(d);};aK[bk].unhover=function(e,d){return this.unmouseover(e).unmouseout(d);};aK[bk].drag=function(i,S,R){this._drag={};var E=this.mousedown(function(bn){(bn.originalEvent?bn.originalEvent:bn).preventDefault();this._drag.x=bn.clientX;this._drag.y=bn.clientY;this._drag.id=bn.identifier;S&&S.call(this,bn.clientX,bn.clientY);Raphael.mousemove(e).mouseup(d);}),e=function(bp){var bn=bp.clientX,br=bp.clientY;if(P){var bo=bp.touches.length,bq;while(bo--){bq=bp.touches[bo];if(bq.identifier==E._drag.id){bn=bq.clientX;br=bq.clientY;(bp.originalEvent?bp.originalEvent:bp).preventDefault();break;}}}else{bp.preventDefault();}i&&i.call(E,bn-E._drag.x,br-E._drag.y,bn,br);},d=function(){E._drag={};Raphael.unmousemove(e).unmouseup(d);R&&R.call(E);};return this;};bf[bk].circle=function(d,i,e){return Z(this,d||0,i||0,e||0);};bf[bk].rect=function(d,R,e,i,E){return aX(this,d||0,R||0,e||0,i||0,E||0);};bf[bk].ellipse=function(d,E,i,e){return ar(this,d||0,E||0,i||0,e||0);};bf[bk].path=function(d){d&&!az.is(d,aa)&&!az.is(d[0],aU)&&(d+=aF);return u(az.format[bi](az,arguments),this);};bf[bk].image=function(E,d,R,e,i){return s(this,E||"about:blank",d||0,R||0,e||0,i||0);};bf[bk].text=function(d,i,e){return af(this,d||0,i||0,e||aF);};bf[bk].set=function(d){arguments[o]>1&&(d=Array[bk].splice.call(arguments,0,arguments[o]));return new ac(d);};bf[bk].setSize=bh;bf[bk].top=bf[bk].bottom=null;bf[bk].raphael=az;function z(){return this.x+ay+this.y;}aK[bk].resetScale=function(){if(this.removed){return this;}this._.sx=1;this._.sy=1;this.attrs.scale="1 1";};aK[bk].scale=function(bt,bs,E,e){if(this.removed){return this;}if(bt==null&&bs==null){return{x:this._.sx,y:this._.sy,toString:z};}bs=bs||bt;!+bs&&(bs=bt);var bx,bv,bw,bu,bJ=this.attrs;if(bt!=0){var br=this.getBBox(),bo=br.x+br.width/2,R=br.y+br.height/2,bI=bt/this._.sx,bH=bs/this._.sy;E=(+E||E==0)?E:bo;e=(+e||e==0)?e:R;var bq=~~(bt/aj.abs(bt)),bn=~~(bs/aj.abs(bs)),bA=this.node.style,bL=E+(bo-E)*bI,bK=e+(R-e)*bH;switch(this.type){case"rect":case"image":var bp=bJ.width*bq*bI,bz=bJ.height*bn*bH;this.attr({height:bz,r:bJ.r*a2(bq*bI,bn*bH),width:bp,x:bL-bp/2,y:bK-bz/2});break;case"circle":case"ellipse":this.attr({rx:bJ.rx*bq*bI,ry:bJ.ry*bn*bH,r:bJ.r*a2(bq*bI,bn*bH),cx:bL,cy:bK});break;case"text":this.attr({x:bL,y:bK});break;case"path":var bC=am(bJ.path),bD=true;for(var bF=0,by=bC[o];bF<by;bF++){var bB=bC[bF],S=a7.call(bB[0]);if(S=="M"&&bD){continue;}else{bD=false;}if(S=="A"){bB[bC[bF][o]-2]*=bI;bB[bC[bF][o]-1]*=bH;bB[1]*=bq*bI;bB[2]*=bn*bH;bB[5]=+!(bq+bn?!+bB[5]:+bB[5]);}else{if(S=="H"){for(var bE=1,bG=bB[o];bE<bG;bE++){bB[bE]*=bI;}}else{if(S=="V"){for(bE=1,bG=bB[o];bE<bG;bE++){bB[bE]*=bH;}}else{for(bE=1,bG=bB[o];bE<bG;bE++){bB[bE]*=(bE%2)?bI:bH;}}}}}var d=ad(bC);bx=bL-d.x-d.width/2;bv=bK-d.y-d.height/2;bC[0][1]+=bx;bC[0][2]+=bv;this.attr({path:bC});break;}if(this.type in {text:1,image:1}&&(bq!=1||bn!=1)){if(this.transformations){this.transformations[2]="scale("[bd](bq,",",bn,")");this.node[A]("transform",this.transformations[aM](ay));bx=(bq==-1)?-bJ.x-(bp||0):bJ.x;bv=(bn==-1)?-bJ.y-(bz||0):bJ.y;this.attr({x:bx,y:bv});bJ.fx=bq-1;bJ.fy=bn-1;}else{this.node.filterMatrix=aS+".Matrix(M11="[bd](bq,", M12=0, M21=0, M22=",bn,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");bA.filter=(this.node.filterMatrix||aF)+(this.node.filterOpacity||aF);}}else{if(this.transformations){this.transformations[2]=aF;this.node[A]("transform",this.transformations[aM](ay));bJ.fx=0;bJ.fy=0;}else{this.node.filterMatrix=aF;bA.filter=(this.node.filterMatrix||aF)+(this.node.filterOpacity||aF);}}bJ.scale=[bt,bs,E,e][aM](ay);this._.sx=bt;this._.sy=bs;}return this;};aK[bk].clone=function(){var d=this.attr();delete d.scale;delete d.translation;return this.paper[this.type]().attr(d);};var g=at(function(E,d,bo,bn,bu,bt,bs,br,R){var bq=0,S;for(var bp=0;bp<1.001;bp+=0.001){var e=az.findDotsAtSegment(E,d,bo,bn,bu,bt,bs,br,bp);bp&&(bq+=a5(a5(S.x-e.x,2)+a5(S.y-e.y,2),0.5));if(bq>=R){return e;}S=e;}}),aP=function(d,e){return function(bw,S,bn){bw=O(bw);var bs,br,E,bo,R="",bv={},bt,bq=0;for(var bp=0,bu=bw.length;bp<bu;bp++){E=bw[bp];if(E[0]=="M"){bs=+E[1];br=+E[2];}else{bo=q(bs,br,E[1],E[2],E[3],E[4],E[5],E[6]);if(bq+bo>S){if(e&&!bv.start){bt=g(bs,br,E[1],E[2],E[3],E[4],E[5],E[6],S-bq);R+=["C",bt.start.x,bt.start.y,bt.m.x,bt.m.y,bt.x,bt.y];if(bn){return R;}bv.start=R;R=["M",bt.x,bt.y+"C",bt.n.x,bt.n.y,bt.end.x,bt.end.y,E[5],E[6]][aM]();bq+=bo;bs=+E[5];br=+E[6];continue;}if(!d&&!e){bt=g(bs,br,E[1],E[2],E[3],E[4],E[5],E[6],S-bq);return{x:bt.x,y:bt.y,alpha:bt.alpha};}}bq+=bo;bs=+E[5];br=+E[6];}R+=E;}bv.end=R;bt=d?bq:e?bv:az.findDotsAtSegment(bs,br,E[1],E[2],E[3],E[4],E[5],E[6],1);bt.alpha&&(bt={x:bt.x,y:bt.y,alpha:bt.alpha});return bt;};},q=at(function(E,d,bn,S,bt,bs,br,bq){var R={x:0,y:0},bp=0;for(var bo=0;bo<1.01;bo+=0.01){var e=X(E,d,bn,S,bt,bs,br,bq,bo);bo&&(bp+=a5(a5(R.x-e.x,2)+a5(R.y-e.y,2),0.5));R=e;}return bp;});var aB=aP(1),I=aP(),T=aP(0,1);aK[bk].getTotalLength=function(){if(this.type!="path"){return;}if(this.node.getTotalLength){return this.node.getTotalLength();}return aB(this.attrs.path);};aK[bk].getPointAtLength=function(d){if(this.type!="path"){return;}return I(this.attrs.path,d);};aK[bk].getSubpath=function(i,e){if(this.type!="path"){return;}if(aj.abs(this.getTotalLength()-e)<0.000001){return T(this.attrs.path,i).end;}var d=T(this.attrs.path,e,1);return i?T(d,i).end:d;};az.easing_formulas={linear:function(d){return d;},"<":function(d){return a5(d,3);},">":function(d){return a5(d-1,3)+1;},"<>":function(d){d=d*2;if(d<1){return a5(d,3)/2;}d-=2;return(a5(d,3)+2)/2;},backIn:function(e){var d=1.70158;return e*e*((d+1)*e-d);},backOut:function(e){e=e-1;var d=1.70158;return e*e*((d+1)*e+d)+1;},elastic:function(i){if(i==0||i==1){return i;}var e=0.3,d=e/4;return a5(2,-10*i)*aj.sin((i-d)*(2*aj.PI)/e)+1;},bounce:function(E){var e=7.5625,i=2.75,d;if(E<(1/i)){d=e*E*E;}else{if(E<(2/i)){E-=(1.5/i);d=e*E*E+0.75;}else{if(E<(2.5/i)){E-=(2.25/i);d=e*E*E+0.9375;}else{E-=(2.625/i);d=e*E*E+0.984375;}}}return d;}};var Q={length:0},bc=function(){var bp=+new Date;for(var bB in Q){if(bB!="length"&&Q[ab](bB)){var bG=Q[bB];if(bG.stop||bG.el.removed){delete Q[bB];Q[o]--;continue;}var bn=bp-bG.start,by=bG.ms,bx=bG.easing,bC=bG.from,bu=bG.diff,E=bG.to,bt=bG.t,bw=bG.prev||0,bo=bG.el,R=bG.callback,bv={},d;if(bn<by){var S=az.easing_formulas[bx]?az.easing_formulas[bx](bn/by):bn/by;for(var bz in bC){if(bC[ab](bz)){switch(ah[bz]){case"along":d=S*by*bu[bz];E.back&&(d=E.len-d);var bA=I(E[bz],d);bo.translate(bu.sx-bu.x||0,bu.sy-bu.y||0);bu.x=bA.x;bu.y=bA.y;bo.translate(bA.x-bu.sx,bA.y-bu.sy);E.rot&&bo.rotate(bu.r+bA.alpha,bA.x,bA.y);break;case aw:d=+bC[bz]+S*by*bu[bz];break;case"colour":d="rgb("+[H(Y(bC[bz].r+S*by*bu[bz].r)),H(Y(bC[bz].g+S*by*bu[bz].g)),H(Y(bC[bz].b+S*by*bu[bz].b))][aM](",")+")";break;case"path":d=[];for(var bE=0,bs=bC[bz][o];bE<bs;bE++){d[bE]=[bC[bz][bE][0]];for(var bD=1,bF=bC[bz][bE][o];bD<bF;bD++){d[bE][bD]=+bC[bz][bE][bD]+S*by*bu[bz][bE][bD];}d[bE]=d[bE][aM](ay);}d=d[aM](ay);break;case"csv":switch(bz){case"translation":var br=bu[bz][0]*(bn-bw),bq=bu[bz][1]*(bn-bw);bt.x+=br;bt.y+=bq;d=br+ay+bq;break;case"rotation":d=+bC[bz][0]+S*by*bu[bz][0];bC[bz][1]&&(d+=","+bC[bz][1]+","+bC[bz][2]);break;case"scale":d=[+bC[bz][0]+S*by*bu[bz][0],+bC[bz][1]+S*by*bu[bz][1],(2 in E[bz]?E[bz][2]:aF),(3 in E[bz]?E[bz][3]:aF)][aM](ay);break;case"clip-rect":d=[];bE=4;while(bE--){d[bE]=+bC[bz][bE]+S*by*bu[bz][bE];}break;}break;}bv[bz]=d;}}bo.attr(bv);bo._run&&bo._run.call(bo);}else{if(E.along){bA=I(E.along,E.len*!E.back);bo.translate(bu.sx-(bu.x||0)+bA.x-bu.sx,bu.sy-(bu.y||0)+bA.y-bu.sy);E.rot&&bo.rotate(bu.r+bA.alpha,bA.x,bA.y);}(bt.x||bt.y)&&bo.translate(-bt.x,-bt.y);E.scale&&(E.scale=E.scale+aF);bo.attr(E);delete Q[bB];Q[o]--;bo.in_animation=null;az.is(R,"function")&&R.call(bo);}bG.prev=bn;}}az.svg&&bo&&bo.paper&&bo.paper.safari();Q[o]&&aG.setTimeout(bc);},H=function(d){return h(a2(d,255),0);},x=function(d,i){if(d==null){return{x:this._.tx,y:this._.ty,toString:z};}this._.tx+=+d;this._.ty+=+i;switch(this.type){case"circle":case"ellipse":this.attr({cx:+d+this.attrs.cx,cy:+i+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+d+this.attrs.x,y:+i+this.attrs.y});break;case"path":var e=am(this.attrs.path);e[0][1]+=+d;e[0][2]+=+i;this.attr({path:e});break;}return this;};aK[bk].animateWith=function(e,i,d,R,E){Q[e.id]&&(i.start=Q[e.id].start);return this.animate(i,d,R,E);};aK[bk].animateAlong=aL();aK[bk].animateAlongBack=aL(1);function aL(d){return function(E,i,e,S){var R={back:d};az.is(e,"function")?(S=e):(R.rot=e);E&&E.constructor==aK&&(E=E.attrs.path);E&&(R.along=E);return this.animate(R,i,S);};}aK[bk].onAnimation=function(d){this._run=d||0;return this;};aK[bk].animate=function(bB,bs,br,E){if(az.is(br,"function")||!br){E=br||null;}var bw={},e={},bp={};for(var bt in bB){if(bB[ab](bt)){if(ah[ab](bt)){bw[bt]=this.attr(bt);(bw[bt]==null)&&(bw[bt]=l[bt]);e[bt]=bB[bt];switch(ah[bt]){case"along":var bz=aB(bB[bt]),bu=I(bB[bt],bz*!!bB.back),R=this.getBBox();bp[bt]=bz/bs;bp.tx=R.x;bp.ty=R.y;bp.sx=bu.x;bp.sy=bu.y;e.rot=bB.rot;e.back=bB.back;e.len=bz;bB.rot&&(bp.r=ae(this.rotate())||0);break;case aw:bp[bt]=(e[bt]-bw[bt])/bs;break;case"colour":bw[bt]=az.getRGB(bw[bt]);var bv=az.getRGB(e[bt]);bp[bt]={r:(bv.r-bw[bt].r)/bs,g:(bv.g-bw[bt].g)/bs,b:(bv.b-bw[bt].b)/bs};break;case"path":var S=O(bw[bt],e[bt]);bw[bt]=S[0];var bq=S[1];bp[bt]=[];for(var by=0,bo=bw[bt][o];by<bo;by++){bp[bt][by]=[0];for(var bx=1,bA=bw[bt][by][o];bx<bA;bx++){bp[bt][by][bx]=(bq[by][bx]-bw[bt][by][bx])/bs;}}break;case"csv":var d=(bB[bt]+aF)[F](a),bn=(bw[bt]+aF)[F](a);switch(bt){case"translation":bw[bt]=[0,0];bp[bt]=[d[0]/bs,d[1]/bs];break;case"rotation":bw[bt]=(bn[1]==d[1]&&bn[2]==d[2])?bn:[0,d[1],d[2]];bp[bt]=[(d[0]-bw[bt][0])/bs,0,0];break;case"scale":bB[bt]=d;bw[bt]=(bw[bt]+aF)[F](a);bp[bt]=[(d[0]-bw[bt][0])/bs,(d[1]-bw[bt][1])/bs,0,0];break;case"clip-rect":bw[bt]=(bw[bt]+aF)[F](a);bp[bt]=[];by=4;while(by--){bp[bt][by]=(d[by]-bw[bt][by])/bs;}break;}e[bt]=d;}}}}this.stop();this.in_animation=1;Q[this.id]={start:bB.start||+new Date,ms:bs,easing:br,from:bw,diff:bp,to:e,el:this,callback:E,t:{x:0,y:0}};++Q[o]==1&&bc();return this;};aK[bk].stop=function(){Q[this.id]&&Q[o]--;delete Q[this.id];return this;};aK[bk].translate=function(d,e){return this.attr({translation:d+" "+e});};aK[bk][aO]=function(){return"Rapha\xebl\u2019s object";};az.ae=Q;var ac=function(d){this.items=[];this[o]=0;this.type="set";if(d){for(var e=0,E=d[o];e<E;e++){if(d[e]&&(d[e].constructor==aK||d[e].constructor==ac)){this[this.items[o]]=this.items[this.items[o]]=d[e];this[o]++;}}}};ac[bk][f]=function(){var R,d;for(var e=0,E=arguments[o];e<E;e++){R=arguments[e];if(R&&(R.constructor==aK||R.constructor==ac)){d=this.items[o];this[d]=this.items[d]=R;this[o]++;}}return this;};ac[bk].pop=function(){delete this[this[o]--];return this.items.pop();};for(var D in aK[bk]){if(aK[bk][ab](D)){ac[bk][D]=(function(d){return function(){for(var e=0,E=this.items[o];e<E;e++){this.items[e][d][bi](this.items[e],arguments);}return this;};})(D);}}ac[bk].attr=function(e,bn){if(e&&az.is(e,aU)&&az.is(e[0],"object")){for(var d=0,S=e[o];d<S;d++){this.items[d].attr(e[d]);}}else{for(var E=0,R=this.items[o];E<R;E++){this.items[E].attr(e,bn);}}return this;};ac[bk].animate=function(S,e,bp,bo){(az.is(bp,"function")||!bp)&&(bo=bp||null);var d=this.items[o],E=d,bn=this,R;bo&&(R=function(){!--d&&bo.call(bn);});this.items[--E].animate(S,e,bp||R,R);while(E--){this.items[E].animateWith(this.items[d-1],S,e,bp||R,R);}return this;};ac[bk].insertAfter=function(e){var d=this.items[o];while(d--){this.items[d].insertAfter(e);}return this;};ac[bk].getBBox=function(){var d=[],bn=[],e=[],R=[];for(var E=this.items[o];E--;){var S=this.items[E].getBBox();d[f](S.x);bn[f](S.y);e[f](S.x+S.width);R[f](S.y+S.height);}d=a2[bi](0,d);bn=a2[bi](0,bn);return{x:d,y:bn,width:h[bi](0,e)-d,height:h[bi](0,R)-bn};};ac[bk].clone=function(E){E=new ac;for(var d=0,e=this.items[o];d<e;d++){E[f](this.items[d].clone());}return E;};az.registerFont=function(e){if(!e.face){return e;}this.fonts=this.fonts||{};var E={w:e.w,face:{},glyphs:{}},i=e.face["font-family"];for(var bn in e.face){if(e.face[ab](bn)){E.face[bn]=e.face[bn];}}if(this.fonts[i]){this.fonts[i][f](E);}else{this.fonts[i]=[E];}if(!e.svg){E.face["units-per-em"]=N(e.face["units-per-em"],10);for(var R in e.glyphs){if(e.glyphs[ab](R)){var S=e.glyphs[R];E.glyphs[R]={w:S.w,k:{},d:S.d&&"M"+S.d[ba](/[mlcxtrv]/g,function(bo){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[bo]||"M";})+"z"};if(S.k){for(var d in S.k){if(S[ab](d)){E.glyphs[R].k[d]=S.k[d];}}}}}}return e;};bf[bk].getFont=function(bp,bq,e,R){R=R||"normal";e=e||"normal";bq=+bq||{normal:400,bold:700,lighter:300,bolder:800}[bq]||400;if(!az.fonts){return;}var S=az.fonts[bp];if(!S){var E=new RegExp("(^|\\s)"+bp[ba](/[^\w\d\s+!~.:_-]/g,aF)+"(\\s|$)","i");for(var d in az.fonts){if(az.fonts[ab](d)){if(E.test(d)){S=az.fonts[d];break;}}}}var bn;if(S){for(var bo=0,br=S[o];bo<br;bo++){bn=S[bo];if(bn.face["font-weight"]==bq&&(bn.face["font-style"]==e||!bn.face["font-style"])&&bn.face["font-stretch"]==R){break;}}}return bn;};bf[bk].print=function(R,E,d,bo,bp,by){by=by||"middle";var bu=this.set(),bx=(d+aF)[F](aF),bv=0,br=aF,bz;az.is(bo,d)&&(bo=this.getFont(bo));if(bo){bz=(bp||16)/bo.face["units-per-em"];var e=bo.face.bbox.split(a),bn=+e[0],bq=+e[1]+(by=="baseline"?e[3]-e[1]+(+bo.face.descent):(e[3]-e[1])/2);for(var bt=0,S=bx[o];bt<S;bt++){var bs=bt&&bo.glyphs[bx[bt-1]]||{},bw=bo.glyphs[bx[bt]];bv+=bt?(bs.w||bo.w)+(bs.k&&bs.k[bx[bt]]||0):0;bw&&bw.d&&bu[f](this.path(bw.d).attr({fill:"#000",stroke:"none",translation:[bv,0]}));}bu.scale(bz,bz,bn,bq).translate(R-bn,E-bq);}return bu;};var a6=/\{(\d+)\}/g;az.format=function(e,i){var d=az.is(i,i)?[0][bd](i):arguments;e&&az.is(e,aa)&&d[o]-1&&(e=e[ba](a6,function(R,E){return d[++E]==null?aF:d[E];}));return e||aF;};az.ninja=function(){n.was?(Raphael=n.is):delete Raphael;return az;};az.el=aK[bk];return az;})();